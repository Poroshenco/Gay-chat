
@{
    ViewData["Title"] = "AccountSettings";
}

@inject UserManager<ApplicationUser> UserManager

@{
    var user = await UserManager.GetUserAsync(User);

    string image = user.Nickname.Substring(1).Replace(" ", string.Empty) + ".jpg";
}

<div style="width: 340px; margin: auto; height: 188px; margin-top: 100px; box-shadow: 0px 3px 8px #8d6e63; background-color: #f5f5f5 ">
    
    <img src="~/UserImages/@image" style="width: 80px; height: 80px; margin: 25px; margin-right: 10px; border-radius: 75px; border: 2px solid #6d4c41; float: left; margin-bottom: 11px; margin-left: 20px">
    
    <div style="float: left; margin-top: 35px">
        <p style="margin: 0px">Email:</p>
        <p style="font-size: 17px; margin: 0px">@user.Email</p>

    </div>
    
    <div style="border: 1px solid lightgrey; width: 100%; height: 2px; float: left"></div>
    
    <form asp-action="ChangeAccountAvatar" asp-controller="Account" enctype="multipart/form-data">
        <div style="width: 95%; float: left; margin-left: 18px">
            <div class="file-field input-field" style="float: left; margin-top: 11px">
                <div class="btn" style="padding: 0px; width: 80px">
                    <span>Image</span>
                    <input type="file" name="avatar">
                </div>
                <div class="file-path-wrapper" style="width: 170px">
                    <input class="file-path validate" type="text" placeholder="Select new avatar">
                </div>
            </div>
            <button class="btn" type="submit" style="float: left; padding: 0px; width: 50px; margin-left: 5px; padding-top: 5px; margin-top: 11px; height: 45px"><i class="material-icons">file_upload</i></button>
        </div>
    </form>

</div>
